@page "/login"
@inject NavigationManager _Naivigation
@inject CookieStorageService cookieService
@inject CustomAuthStateProvider AuthState
@inject IPetAdoptionAPI petAPI
@inject LoaderService Loader
@inject ISnackbar Snackbar
@layout EmptyLayout

<PageTitle>Login - PetAdoption</PageTitle>

<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-12 mx-auto">
    <MudPaper Elevation="4" Class="pa-6">
        <MudGrid GutterSize="3" AlignItems="Center" Justify="Justify.Center">
            <!-- Left column: Image -->
            <MudItem xs="12" sm="5" class="d-flex justify-center">
                <img src="images/loginpage.jpeg" alt="Login Image"
                     style="max-width: 100%; max-height: 350px; object-fit: contain;" />
            </MudItem>

            <!-- Right column: Form -->
            <MudItem xs="12" sm="7">
                <MudText Typo="Typo.h5" Class="text-center mb-4r text-al" Style="text-align: center">Login</MudText>

                <EditForm Model="@model" OnValidSubmit="LoginUser">
                    <DataAnnotationsValidator />

                    <MudTextField Label="Email" @bind-Value="model.Email" Variant="Variant.Filled" FullWidth="true" For="@(() => model.Email)" />

                    <MudTextField Label="Password" @bind-Value="model.Password" Variant="Variant.Filled" InputType="InputType.Password" FullWidth="true" Class="mt-4" For="@(() => model.Password)" />

                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="mt-6">Login</MudButton>
                </EditForm>

                <MudText Class="text-center mt-4">
                    Don't have an account? <MudLink Href="/signup">Sign Up</MudLink>
                </MudText>
            </MudItem>
        </MudGrid>
    </MudPaper>
</MudContainer>