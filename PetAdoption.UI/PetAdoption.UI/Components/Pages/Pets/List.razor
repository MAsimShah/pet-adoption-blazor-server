@page "/pets"
@inject HttpClient Http
@inject IConfiguration Configuration
@inject IDialogService DialogService
@inject LoaderService Loader
@inject ISnackbar Snackbar
@inject IPetAdoptionAPI petAPI
@attribute [Authorize]

<PageTitle>Pets - PetAdoption</PageTitle>

<div class="container-fluid pt-4">
    <div>
        <MudGrid>
            <MudItem xs="12">
                <MudButton @onclick="AddPetAsync" Variant="Variant.Filled" Color="Color.Primary"> Add Pet </MudButton>
            </MudItem>
            <MudItem xs="12">
                <!-- Grid design -->
                <MudDataGrid T="PetViewModel" Items="@petsList" ReadOnly="false" EditMode="DataGridEditMode.Form" ColumnResizeMode="ResizeMode.Column"
                             StartedEditingItem="@StartedEditingItem" CanceledEditingItem="@CanceledEditingItem" CommittedItemChanges="@CommittedItemChanges"
                             Bordered="true" Dense="true" EditTrigger="@(false ? DataGridEditTrigger.OnRowClick : DataGridEditTrigger.Manual)">
                    <Columns>
                        <PropertyColumn Property="x => x.Name" Title="Name" Editable="false" />
                        <PropertyColumn Property="x => x.Age" Title="Age" />
                        <PropertyColumn Property="x => x.Breed" Title="Breed" />
                        <PropertyColumn Property="x => x.Gender" Title="Gender" />
                        <PropertyColumn Property="x => x.Description" Title="Description" />
                        <TemplateColumn CellClass="d-flex justify-end">
                            <CellTemplate>
                                <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Outlined.Edit" OnClick="@context.Actions.StartEditingItemAsync" />
                            </CellTemplate>
                        </TemplateColumn>
                    </Columns>
                </MudDataGrid>
            </MudItem>
        </MudGrid>
    </div>
</div>